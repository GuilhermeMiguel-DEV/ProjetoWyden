# ======================================
# Configurações do Banco de Dados (MySQL)
# ======================================
spring.datasource.url=jdbc:mysql://localhost:3306/projeto_wyden?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC
spring.datasource.username=root
# Remova em produção e use variáveis de ambiente
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ======================================
# Configurações JPA/Hibernate
# ======================================
# Em produção, use 'validate' ou 'none'
spring.jpa.hibernate.ddl-auto=update
# Desative em produção ('false')
spring.jpa.show-sql=true
# Apenas para dev
spring.jpa.properties.hibernate.format_sql=true
# Em produção, use 'validate' ou 'none'
spring.jpa.properties.hibernate.jdbc.batch_size=30

# ======================================
# Configurações do FreeMarker (Templates)
# ======================================
spring.freemarker.template-loader-path=classpath:/templates/
spring.freemarker.suffix=.ftl
spring.freemarker.cache=false
spring.freemarker.charset=UTF-8
spring.freemarker.check-template-location=true
spring.freemarker.expose-request-attributes=true
spring.freemarker.expose-spring-macro-helpers=true
spring.freemarker.expose-session-attributes=true
spring.freemarker.request-context-attribute=request
spring.freemarker.settings.datetime_format=dd/MM/yyyy HH:mm
spring.freemarker.settings.date_format=dd/MM/yyyy
spring.freemarker.settings.time_format=HH:mm
spring.freemarker.settings.classic_compatible=true

# ======================================
# Configurações de Segurança (Spring Security)
# ======================================
# Ative CSRF (em produção, configure cookies seguros)
spring.security.csrf.enabled=true
spring.security.csrf.token-repository=cookie

# Configurações de sessão (HTTPS obrigatório em produção)
server.servlet.session.timeout=30m
server.servlet.session.cookie.http-only=true
# Ative ('true') se usar HTTPS
server.servlet.session.cookie.secure=false

# ======================================
# Logging (Ajuste conforme ambiente)
# ======================================
# Para dev
logging.level.com.wyden.ProjetoWyden=DEBUG
# Reduza logs de segurança
logging.level.org.springframework.security=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ======================================
# Configurações Específicas para Produção (Exemplo)
# ======================================
# spring.profiles.active=prod
# spring.jpa.show-sql=false
# spring.freemarker.cache=true
# server.servlet.session.cookie.secure=true